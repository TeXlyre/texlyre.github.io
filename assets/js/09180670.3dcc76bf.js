"use strict";(globalThis.webpackChunktexlyre=globalThis.webpackChunktexlyre||[]).push([[3614],{1077(e,n,s){s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"supported-lsp/vscode-langservers-extracted/index","title":"Recipe: vscode-langservers-extracted","description":"vscode-langservers-extracted is a bundle of Language Servers extracted from VS Code.","source":"@site/docs/supported-lsp/vscode-langservers-extracted/index.md","sourceDirName":"supported-lsp/vscode-langservers-extracted","slug":"/supported-lsp/vscode-langservers-extracted/","permalink":"/docs/supported-lsp/vscode-langservers-extracted/","draft":false,"unlisted":false,"editUrl":"https://github.com/texlyre/docs/tree/main/docs/supported-lsp/vscode-langservers-extracted/index.md","tags":[],"version":"current","frontMatter":{"title":"Recipe: vscode-langservers-extracted"},"sidebar":"tutorialSidebar","previous":{"title":"Recipe: harper-ls","permalink":"/docs/supported-lsp/harper-ls/"}}');var l=s(4848),o=s(8453);const t={title:"Recipe: vscode-langservers-extracted"},a="VS Code Language Servers (vscode-langservers-extracted)",i={},c=[{value:"1. Install the server",id:"1-install-the-server",level:2},{value:"2. Install the WebSocket proxy",id:"2-install-the-websocket-proxy",level:2},{value:"3. Run the server",id:"3-run-the-server",level:2},{value:"JSON / JSONC",id:"json--jsonc",level:3},{value:"HTML",id:"html",level:3},{value:"CSS / SCSS / LESS",id:"css--scss--less",level:3},{value:"Markdown",id:"markdown",level:3},{value:"4. TeXlyre configuration",id:"4-texlyre-configuration",level:2},{value:"JSON / JSONC configuration",id:"json--jsonc-configuration",level:3},{value:"HTML configuration",id:"html-configuration",level:3},{value:"CSS / SCSS / LESS configuration",id:"css--scss--less-configuration",level:3},{value:"Markdown configuration",id:"markdown-configuration",level:3},{value:"Example: multiple configs in one list",id:"example-multiple-configs-in-one-list",level:3},{value:"Notes",id:"notes",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"vs-code-language-servers-vscode-langservers-extracted",children:"VS Code Language Servers (vscode-langservers-extracted)"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"vscode-langservers-extracted"})," is a bundle of Language Servers extracted from VS Code.\nIt provides IDE features such as diagnostics, completion, hover, formatting, and (where supported) linting for several common web/config languages."]}),"\n",(0,l.jsxs)(n.p,{children:["TeXlyre connects to these servers via WebSocket using ",(0,l.jsx)(n.code,{children:"lsp-ws-proxy"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"1-install-the-server",children:"1. Install the server"}),"\n",(0,l.jsx)(n.p,{children:"The VS Code language servers are distributed via npm."}),"\n",(0,l.jsxs)(n.p,{children:["Install ",(0,l.jsx)(n.code,{children:"vscode-langservers-extracted"})," globally:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install -g vscode-langservers-extracted\n"})}),"\n",(0,l.jsx)(n.p,{children:"This installs the following language server executables:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"vscode-css-language-server"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"vscode-html-language-server"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"vscode-json-language-server"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"vscode-markdown-language-server"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-install-the-websocket-proxy",children:"2. Install the WebSocket proxy"}),"\n",(0,l.jsxs)(n.p,{children:["TeXlyre requires a WebSocket transport. ",(0,l.jsx)(n.code,{children:"lsp-ws-proxy"})," bridges WebSocket to stdio."]}),"\n",(0,l.jsxs)(n.p,{children:["Install ",(0,l.jsx)(n.code,{children:"lsp-ws-proxy"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cargo install lsp-ws-proxy --locked\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-run-the-server",children:"3. Run the server"}),"\n",(0,l.jsxs)(n.p,{children:["Each language server should be launched behind its own ",(0,l.jsx)(n.code,{children:"lsp-ws-proxy"})," instance (one port per server)."]}),"\n",(0,l.jsx)(n.h3,{id:"json--jsonc",children:"JSON / JSONC"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lsp-ws-proxy -l 127.0.0.1:7010 -- vscode-json-language-server --stdio\n"})}),"\n",(0,l.jsx)(n.h3,{id:"html",children:"HTML"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lsp-ws-proxy -l 127.0.0.1:7011 -- vscode-html-language-server --stdio\n"})}),"\n",(0,l.jsx)(n.h3,{id:"css--scss--less",children:"CSS / SCSS / LESS"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lsp-ws-proxy -l 127.0.0.1:7012 -- vscode-css-language-server --stdio\n"})}),"\n",(0,l.jsx)(n.h3,{id:"markdown",children:"Markdown"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lsp-ws-proxy -l 127.0.0.1:7013 -- vscode-markdown-language-server --stdio\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Each proxy listens on ",(0,l.jsx)(n.code,{children:"ws://localhost:<port>"})]}),"\n",(0,l.jsx)(n.li,{children:"Keep these processes running while using TeXlyre"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-texlyre-configuration",children:"4. TeXlyre configuration"}),"\n",(0,l.jsxs)(n.p,{children:["You can use ",(0,l.jsx)(n.strong,{children:"more than one LSP at the same time"}),". To do this, simply ",(0,l.jsx)(n.strong,{children:"add another config block below"})," in the ",(0,l.jsx)(n.strong,{children:"same list"}),".\nKeep everything inside the square brackets ",(0,l.jsx)(n.code,{children:"["})," ",(0,l.jsx)(n.code,{children:"]"})," and separate each ",(0,l.jsx)(n.code,{children:"{"})," ",(0,l.jsx)(n.code,{children:"}"})," block with a comma."]}),"\n",(0,l.jsx)(n.p,{children:"Paste the following JSON into Settings \u2699\ufe0f \u2192 LSP \u2192 Generic LSP \u2192 LSP Configurations."}),"\n",(0,l.jsx)(n.h3,{id:"json--jsonc-configuration",children:"JSON / JSONC configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "vscode-json-ls",\n    "name": "VS Code JSON Language Server",\n    "enabled": true,\n    "fileExtensions": ["json", "jsonc"],\n    "languageIdMap": {\n      "json": "json",\n      "jsonc": "jsonc"\n    },\n    "transportConfig": {\n      "type": "websocket",\n      "url": "ws://localhost:7010",\n      "contentLength": false\n    },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"html-configuration",children:"HTML configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "vscode-html-ls",\n    "name": "VS Code HTML Language Server",\n    "enabled": true,\n    "fileExtensions": ["html", "htm"],\n    "languageIdMap": {\n      "html": "html",\n      "htm": "html"\n    },\n    "transportConfig": {\n      "type": "websocket",\n      "url": "ws://localhost:7011",\n      "contentLength": false\n    },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"css--scss--less-configuration",children:"CSS / SCSS / LESS configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "vscode-css-ls",\n    "name": "VS Code CSS Language Server",\n    "enabled": true,\n    "fileExtensions": ["css", "scss", "less"],\n    "languageIdMap": {\n      "css": "css",\n      "scss": "scss",\n      "less": "less"\n    },\n    "transportConfig": {\n      "type": "websocket",\n      "url": "ws://localhost:7012",\n      "contentLength": false\n    },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"markdown-configuration",children:"Markdown configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "vscode-markdown-ls",\n    "name": "VS Code Markdown Language Server",\n    "enabled": true,\n    "fileExtensions": ["md", "markdown"],\n    "languageIdMap": {\n      "md": "markdown",\n      "markdown": "markdown"\n    },\n    "transportConfig": {\n      "type": "websocket",\n      "url": "ws://localhost:7013",\n      "contentLength": false\n    },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"example-multiple-configs-in-one-list",children:"Example: multiple configs in one list"}),"\n",(0,l.jsx)(n.p,{children:"If you want JSON + HTML + CSS + Markdown at the same time, combine them like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "vscode-json-ls",\n    "name": "VS Code JSON Language Server",\n    "enabled": true,\n    "fileExtensions": ["json", "jsonc"],\n    "languageIdMap": { "json": "json", "jsonc": "jsonc" },\n    "transportConfig": { "type": "websocket", "url": "ws://localhost:7010", "contentLength": false },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  },\n  {\n    "id": "vscode-html-ls",\n    "name": "VS Code HTML Language Server",\n    "enabled": true,\n    "fileExtensions": ["html", "htm"],\n    "languageIdMap": { "html": "html", "htm": "html" },\n    "transportConfig": { "type": "websocket", "url": "ws://localhost:7011", "contentLength": false },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  },\n  {\n    "id": "vscode-css-ls",\n    "name": "VS Code CSS Language Server",\n    "enabled": true,\n    "fileExtensions": ["css", "scss", "less"],\n    "languageIdMap": { "css": "css", "scss": "scss", "less": "less" },\n    "transportConfig": { "type": "websocket", "url": "ws://localhost:7012", "contentLength": false },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  },\n  {\n    "id": "vscode-markdown-ls",\n    "name": "VS Code Markdown Language Server",\n    "enabled": true,\n    "fileExtensions": ["md", "markdown"],\n    "languageIdMap": { "md": "markdown", "markdown": "markdown" },\n    "transportConfig": { "type": "websocket", "url": "ws://localhost:7013", "contentLength": false },\n    "clientConfig": "{\\"rootUri\\":\\"file:///\\",\\"workspaceFolders\\":[]}"\n  }\n]\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["If you change a proxy port, update the matching ",(0,l.jsx)(n.code,{children:"transportConfig.url"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"These language servers support different feature sets:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"JSON"}),": validation, schemas, completion, hover, formatting"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"HTML"}),": validation, completion, hover, formatting"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CSS/SCSS/LESS"}),": validation, completion, hover, formatting"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Markdown"}),": formatting and document features (feature support depends on client capabilities)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Some actions like ",(0,l.jsx)(n.code,{children:"sort JSON"})," are still not fully compatible with TeXlyre"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>a});var r=s(6540);const l={},o=r.createContext(l);function t(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);